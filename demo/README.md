# 종합검진 AI 소견 생성 시스템 - 데모 버전

백엔드 API 없이 동작하는 프론트엔드 데모 버전입니다.

## 📋 개요

이 데모는 실제 EMR 데이터를 기반으로 한 Mock 데이터를 사용하여 시스템의 모든 기능을 시연할 수 있도록 제작되었습니다.

### 주요 특징

- ✅ **완전한 프론트엔드 구현**: 백엔드 API 없이 모든 기능 동작
- ✅ **실제 데이터 기반**: 3명의 실제 환자 EMR 데이터에서 추출한 Mock 데이터
- ✅ **AI 분석 시뮬레이션**: 실제 AI 분석 결과를 Mock 데이터로 제공
- ✅ **영업용 최적화**: 고객에게 시스템 기능과 UI/UX를 효과적으로 시연

## 🗂️ 파일 구조

```
demo/
├── index.html              # 메인 애플리케이션 (3개 탭)
├── result.html             # 검진 결과 출력 페이지 (인쇄/PDF용)
├── app.js                  # 애플리케이션 로직 및 이벤트 핸들러
├── data/
│   ├── patients.js         # 환자 목록 Mock 데이터 (6명)
│   ├── testResults.js      # 검사 결과 Mock 데이터
│   └── aiAnalysis.js       # AI 분석 결과 및 프롬프트 Mock 데이터
└── README.md               # 이 파일
```

## 🚀 실행 방법

### 1. 로컬 웹 서버 실행

데모는 로컬 파일 시스템에서 직접 실행할 수 없으므로 웹 서버가 필요합니다.

#### Python 사용
```bash
cd demo
python -m http.server 8000
```

#### Node.js 사용
```bash
cd demo
npx http-server -p 8000
```

### 2. 브라우저에서 접속

```
http://localhost:8000/index.html
```

## 📱 기능 시연 가이드

### 1️⃣ 종합소견 생성 탭

#### 주요 기능
- **환자 목록 조회**: 날짜, 이름, 상태로 필터링
- **통계 카드**: 전체/완료/대기 환자 수 실시간 표시
- **개별 AI 생성**: 🤖 아이콘 클릭으로 개별 환자 소견 생성
- **배치 생성**: 여러 환자를 한 번에 처리
- **결과 보기**: 👁️ 아이콘으로 완성된 결과 확인
- **PDF 다운로드**: 📥 아이콘으로 PDF 다운로드 (시뮬레이션)

#### 시연 시나리오
1. 페이지 로드 → 6명의 환자 목록 표시
2. 통계 카드 확인: 전체 6명, 완료 3명, 대기 3명
3. "김건강" 환자의 👁️ 아이콘 클릭 → 결과 페이지 팝업
4. "최영희" 환자의 🤖 아이콘 클릭 → AI 생성 프로세스 시뮬레이션 (5초)
5. 필터 기능 시연: 날짜 변경, 이름 검색, 상태 필터링

### 2️⃣ 검사별 프롬프트 탭

#### 주요 기능
- **9가지 검사 항목**: 신체계측, 혈압, 혈액검사, 간기능, 신기능, 고지혈, 당뇨, 갑상선, 소변
- **프롬프트 편집**: 각 검사별 AI 분석 프롬프트 수정 가능
- **실시간 테스트**: 환자 선택 후 AI 분석 결과 즉시 확인
- **localStorage 저장**: 수정한 프롬프트는 브라우저에 저장

#### 시연 시나리오
1. 좌측에서 "신체계측" 선택
2. 프롬프트 내용 확인
3. 환자 선택: "김건강"
4. "AI 분석 실행" 버튼 클릭
5. 하단에 신체계측 AI 분석 결과 표시
6. 다른 검사 항목 선택하여 반복

### 3️⃣ 종합소견 프롬프트 탭

#### 주요 기능
- **마스터 프롬프트 편집**: 종합소견 생성을 위한 최종 프롬프트
- **종합 분석 테스트**: 환자 선택 후 전체 종합소견 생성
- **미리보기**: 생성된 종합소견 실시간 확인

#### 시연 시나리오
1. 마스터 프롬프트 내용 확인
2. 환자 선택: "김건강"
3. "종합소견 생성" 버튼 클릭 (3초 소요)
4. 우측 미리보기 영역에 종합소견 표시
5. 내용 확인: 주요 소견, 권고사항, 추적 검사 일정 등

### 4️⃣ 검진 결과 출력 페이지

#### 주요 기능
- **표지 페이지**: 환자 기본 정보
- **종합소견 페이지**: AI가 생성한 종합소견
- **상세 결과 페이지**: 검사 항목별 상세 결과 + AI 분석
- **인쇄/PDF**: 브라우저 인쇄 기능으로 PDF 생성 가능

#### 시연 시나리오
1. 메인 화면에서 "김건강" 환자의 👁️ 클릭
2. 새 창에서 결과 페이지 열림
3. 표지 → 종합소견 → 상세 결과 순서로 스크롤
4. "인쇄" 버튼 클릭하여 인쇄 미리보기 확인
5. "PDF 다운로드" 버튼은 알림만 표시 (데모 버전)

## 👥 Mock 환자 데이터

### 생성 완료 환자 (3명)

| 등록번호 | 이름 | 성별/나이 | 주요 소견 |
|---------|------|----------|-----------|
| 01869517 | 김건강 | M/45 | 과체중, 고지혈증 초기 |
| 04739580 | 이슬기 | F/32 | 마른 비만, 근육량 부족 |
| 05550346 | 박민수 | M/38 | 당뇨 전단계, 체중 관리 필요 |

### 생성 대기 환자 (3명)

| 등록번호 | 이름 | 성별/나이 | 상태 |
|---------|------|----------|------|
| 12345678 | 최영희 | F/52 | 생성 중 |
| 23456789 | 정태윤 | M/41 | 생성 대기 |
| 34567890 | 강수정 | F/29 | 생성 대기 |

## 🎯 영업 시연 포인트

### 1. UI/UX 품질
- 깔끔하고 전문적인 디자인
- 직관적인 3탭 구조
- 반응형 디자인 (데스크톱/태블릿 최적화)
- 의료 기관에 적합한 색상 및 레이아웃

### 2. AI 분석 기능
- 검사 항목별 세부 분석
- 종합소견 자동 생성
- 의학적 근거 기반 권고사항
- 추적 검사 일정 자동 제시

### 3. 커스터마이징 가능성
- 프롬프트 실시간 수정 및 테스트
- 병원별 맞춤 설정 가능
- 검사 항목 추가/제거 유연성

### 4. 업무 효율성
- 평균 5분 소요되던 수작업 소견 작성 자동화
- 배치 처리로 다수 환자 동시 처리
- PDF 출력으로 즉시 환자 제공 가능

### 5. 의학적 정확성
- 실제 의학 가이드라인 기반 분석
- 참고치 벗어난 항목 자동 식별
- 질환 간 상관관계 분석
- 우선순위 기반 권고사항

## ⚠️ 데모 제한사항

### 실제 동작하지 않는 기능
- ❌ 실제 AI API 호출 (Mock 데이터로 시뮬레이션)
- ❌ 실제 PDF 파일 생성 (브라우저 인쇄 기능 활용)
- ❌ 데이터베이스 저장 (localStorage만 사용)
- ❌ 백엔드 API 통신 (모든 데이터가 프론트엔드에 하드코딩)

### 시뮬레이션되는 기능
- ✅ AI 분석 진행 상태 (Progress Bar)
- ✅ AI 분석 결과 표시 (미리 작성된 Mock 데이터)
- ✅ 프롬프트 저장 (브라우저 localStorage)
- ✅ 환자 목록 필터링 (클라이언트 사이드 필터링)

## 🔄 실제 시스템 연동 시 변경사항

### 백엔드 연동 필요 부분
1. **환자 목록 조회**: `GET /api/patients?date=YYYY-MM-DD`
2. **AI 소견 생성**: `POST /api/generate-summary`
3. **프롬프트 저장**: `POST /api/prompts`
4. **PDF 생성**: `GET /api/generate-pdf?patientId=xxx`

### 데이터베이스 연동
- 환자 정보 테이블
- 검사 결과 테이블
- AI 소견 테이블
- 프롬프트 설정 테이블

### AI 모델 연동
- Ollama API 또는 Claude API
- 검사별 프롬프트 적용
- 종합소견 생성 파이프라인

## 🛠️ 커스터마이징 가이드

### 환자 데이터 추가
`data/patients.js` 파일에서 `MOCK_PATIENTS` 배열에 새로운 환자 추가:
```javascript
{
    id: '87654321',
    name: '홍길동',
    gender: 'M',
    age: 55,
    birthDate: '1970-01-01',
    examDate: '2025-11-09',
    status: 'pending',
    generatedAt: null,
    aiSummary: null
}
```

### 검사 결과 추가
`data/testResults.js` 파일에서 환자 ID에 해당하는 검사 결과 추가

### AI 분석 결과 추가
`data/aiAnalysis.js` 파일에서 환자 ID에 해당하는 AI 분석 추가

### 프롬프트 수정
`data/aiAnalysis.js` 파일의 `MOCK_PROMPTS` 객체에서 프롬프트 수정

## 💡 FAQ

**Q: 데모에서 생성한 데이터가 저장되나요?**
A: 프롬프트 수정사항만 브라우저 localStorage에 저장됩니다. AI 소견 생성은 시뮬레이션만 되고 실제로 저장되지 않습니다.

**Q: 다른 날짜의 환자를 보고 싶어요.**
A: `data/patients.js`에서 환자의 `examDate`를 수정하면 됩니다.

**Q: 실제 환자 데이터를 넣을 수 있나요?**
A: 가능하지만 개인정보 보호를 위해 Mock 데이터 사용을 권장합니다. 실제 데이터 사용 시 익명화 처리가 필요합니다.

**Q: 브라우저 새로고침 시 데이터가 사라지나요?**
A: Mock 데이터는 JavaScript 파일에 하드코딩되어 있어 사라지지 않습니다. localStorage에 저장된 프롬프트만 남습니다.

**Q: 모바일에서 동작하나요?**
A: 기본적인 반응형 디자인은 적용되어 있으나, 의료 시스템 특성상 데스크톱/태블릿 환경에 최적화되어 있습니다.

## 📞 문의

데모 시스템 관련 문의사항이나 실제 시스템 도입 상담은 아래로 연락주세요:

- **개발팀**: Save The Life Protocol
- **이메일**: [담당자 이메일]
- **전화**: [담당자 연락처]

---

**버전**: Demo v1.0
**최종 수정일**: 2025-11-23
**개발**: Claude AI
